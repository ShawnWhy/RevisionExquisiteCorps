(this.webpackJsonpleonorasgamingtable=this.webpackJsonpleonorasgamingtable||[]).push([[0],{36:function(e,t,a){e.exports=a(78)},41:function(e,t,a){},42:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},43:function(e,t,a){},74:function(e,t){},77:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(19),c=a.n(l),i=(a(41),a(42),a(5)),s=a(4),r=a(12),u=a(1),m=(a(43),a(11)),b=a.n(m),f=a(2),d=a.n(f);var v=function(){var e=b()("wss://revisionexquisite.herokuapp.com/",{transports:["websocket","polling"]}),t=Object(n.useRef)(),a=Object(n.useState)("off"),l=Object(u.a)(a,2),c=l[0],m=l[1],f=Object(n.useState)("off"),v=Object(u.a)(f,2),p=v[0],g=v[1],h=Object(n.useState)(""),j=Object(u.a)(h,2),O=j[0],E=j[1],N=Object(n.useState)("on"),y=Object(u.a)(N,2),S=y[0],k=y[1],x=Object(n.useState)(""),w=Object(u.a)(x,2),C=w[0],M=w[1],T=Object(n.useState)(""),B=Object(u.a)(T,2),P=(B[0],B[1],Object(n.useState)("please begin the story")),L=Object(u.a)(P,2),H=L[0],D=L[1],A=Object(n.useState)([]),R=Object(u.a)(A,2),F=R[0],W=R[1],I=Object(n.useState)(""),q=Object(u.a)(I,2),J=q[0],G=q[1],Q=Object(n.useState)([]),X=Object(u.a)(Q,2),$=X[0],z=X[1],K=Object(n.useState)([]),U=Object(u.a)(K,2),V=(U[0],U[1],Object(n.useState)("")),Y=Object(u.a)(V,2),Z=(Y[0],Y[1],Object(n.useState)([])),_=Object(u.a)(Z,2),ee=_[0],te=_[1],ae=Object(n.useState)(""),ne=Object(u.a)(ae,2),oe=ne[0],le=ne[1],ce=Object(n.useState)(""),ie=Object(u.a)(ce,2),se=(ie[0],ie[1],Object(n.useState)("off")),re=Object(u.a)(se,2),ue=(re[0],re[1],Object(n.useState)("off")),me=Object(u.a)(ue,2),be=me[0],fe=me[1],de=Object(n.useState)("off"),ve=Object(u.a)(de,2),pe=ve[0],ge=ve[1],he=Object(n.useState)(""),je=Object(u.a)(he,2),Oe=je[0],Ee=je[1],Ne=Object(n.useState)(""),ye=Object(u.a)(Ne,2),Se=ye[0],ke=ye[1],xe=Object(n.useState)(""),we=Object(u.a)(xe,2),Ce=we[0],Me=we[1],Te=Object(n.useState)("off"),Be=Object(u.a)(Te,2),Pe=Be[0],Le=Be[1],He=Object(n.useState)("off"),De=Object(u.a)(He,2),Ae=De[0],Re=De[1],Fe=Object(n.useState)("off"),We=Object(u.a)(Fe,2),Ie=We[0],qe=We[1],Je=Object(n.useState)(""),Ge=Object(u.a)(Je,2),Qe=Ge[0],Xe=Ge[1],$e=Object(n.useState)("Welcome dear visitor,  what would you like to be called?"),ze=Object(u.a)($e,2),Ke=ze[0],Ue=ze[1],Ve=function(e){var t=e.split(" ");return t.length>5&&(t=t.slice(t.length-5,t.Length)),t.join(" ")};Object(n.useEffect)((function(){"off"===p&&Me("on")}),[p]),Object(n.useEffect)((function(){C.length>0&&Ue("please also Select a spirit guide"),0===C.length&&Ue("Welcome dear visitor,what would you like to be called?")}),[C]),Object(n.useEffect)((function(){Ve(Se)}),[Se]),Object(n.useEffect)((function(){O.length>0&&(e.connect(),e.on("connect",(function(){e.emit("username",{userName:O,room:Oe})}))),e.on("users",(function(e){W(e)})),e.on("message",(function(e){z((function(t){return[].concat(Object(r.a)(t),[e])})),t.current.scrollTop=t.current.scrollHeight})),e.on("connected",(function(e){W((function(t){return[].concat(Object(r.a)(t),[e])}))})),e.on("start",(function(e){Xe(e.currentPlayer),Ye(),e.currentPlayer===O?k("on"):(k("off"),D(""))})),e.on("rejected",(function(){Ue("user name already Taken, sorry"),setTimeout((function(){Ue("Welcome dear visitor,what would you like to be called?")}),1e3)})),e.on("segmentBroadcast",(function(e){console.log("newsentence"),console.log(e.text),console.log(e.player),ke(e.text),Xe(e.player),D(e.tail),te((function(t){return[].concat(Object(r.a)(t),[e.text])})),e.player===O?k("on"):k("off")})),e.on("disconnected",(function(e){W((function(t){return t.filter((function(t){return t.id!==e}))}))}))}),[O]);var Ye=function(){"Leonora"===C||"Max"===C||"Marcel"===C||"Andre"===C||"Rene"===C||"Pablo"===C||"Benjamin"===C?Ue("sorry "+C+" is already playing"):Oe?C.length>0&&Oe.length>0&&(Me("off"),g("on"),Re("on"),setTimeout((function(){Re("off")}),2e3),setTimeout((function(){m("on")}),2e3)):Ue("please click on a spirit guide to choose her/him")},Ze=d()("invisible",{andreb:"on"===Ce,andrebSelected:"1"===Oe}),_e=d()("invisible",{rene:"on"===Ce,reneSelected:"2"===Oe}),et=d()("invisible",{pablo:"on"===Ce,pabloSelected:"3"===Oe}),tt=d()("invisible",{benjamin:"on"===Ce,benjaminSelected:"4"===Oe}),at=d()("invisible",{leonora:"on"===Ce,leonoraSelected:"5"===Oe}),nt=d()("invisible",{max:"on"===Ce,maxSelected:"6"===Oe}),ot=d()("invisible",{andre:"on"===Ce,andreSelected:"7"===Oe}),lt=d()("invisible",{marcel:"on"===Ce,marcelSelected:"8"===Oe}),ct=d()({ghostHeadAndreB:"1"===Oe,andreBFall:"1"===Oe&&"on"===Ae,ghostHeadRene:"2"===Oe,reneFall:"2"===Oe&&"on"===Ae,ghostHeadPablo:"3"===Oe,pabloFall:"3"===Oe&&"on"===Ae,ghostHeadBenjamin:"4"===Oe,benjaminFall:"4"===Oe&&"on"===Ae,ghostHeadLeonora:"5"===Oe,leonoraFall:"5"===Oe&&"on"===Ae,ghostHeadMax:"6"===Oe,maxFall:"6"===Oe&&"on"===Ae,ghostHeadAndre:"7"===Oe,andreFall:"7"===Oe&&"on"===Ae,ghostHeadMarcel:"8"===Oe,marcelFall:"8"===Oe&&"on"===Ae},{rotateHead:"on"===Pe},{flyAway:"on"===Ie}),it=["1","2","3","4","5","6","7","8"],st=Object(n.useState)({1:"off",2:"off",3:"off",4:"off",5:"off",6:"off",7:"off",8:"off"}),rt=Object(u.a)(st,2),ut=rt[0],mt=rt[1],bt=Object(n.useState)({1:"off",2:"off",3:"off",4:"off",5:"off",6:"off",7:"off",8:"off"}),ft=Object(u.a)(bt,2),dt=ft[0],vt=ft[1],pt=Object(n.useState)(""),gt=Object(u.a)(pt,2),ht=gt[0],jt=gt[1],Ot=function(e){e.stopPropagation(),e.preventDefault();var t=e.target.id;Ee(t),vt(Object(s.a)({},t,"on")),ht.length>0&&mt(Object(i.a)(Object(i.a)({},ut),{},Object(s.a)({},ht,"off"))),jt(t)},Et=function(e){e.stopPropagation(),e.preventDefault();var t=e.target.id;mt(Object(i.a)(Object(i.a)({},ut),{},Object(s.a)({},t,"on")))},Nt=function(e){e.stopPropagation(),e.preventDefault();var t=e.target.id;"on"!==dt[t]&&mt(Object(i.a)(Object(i.a)({},ut),{},Object(s.a)({},t,"off")))};return e.on("nextPlayer",(function(e){Xe(e),k(e===O?"on":"off")})),o.a.createElement("div",{className:"allContainer"},o.a.createElement("div",{className:"rules "+("on"===be?"":"invisible")},o.a.createElement("div",{className:"rulesContent "+("on"===be?"visible":"invisible")},o.a.createElement("div",{className:"closeRules",onClick:function(){fe("off")}},"X"),o.a.createElement("p",null,"How to play: When this game is played in person, each author writes a sentence (or a few sentences) on a piece of paper, then folds the paper so that all or some part of what they wrote is obscurred. The next author then contributes to the story using only the part of the sentence that is visible below the fold."))),o.a.createElement("div",{className:"on"===Ce?"dollsBackDrop":"invisible"}),o.a.createElement("div",{className:"nameInputDiv "+("on"===p?" invisible":"")},o.a.createElement("div",{className:"nameQuestion"},Ke),o.a.createElement("input",{className:"nameinput",type:"text",onChange:function(e){e.preventDefault(),e.stopPropagation(),M(e.target.value)}}),o.a.createElement("input",{type:"submit",onClick:function(){"Leonora"===C||"Max"===C||"Marcel"===C||"Andre"===C||"Rene"===C||"Pablo"===C||"Benjamin"===C?Ue("sorry "+C+" is already playing"):Oe?C.length>0&&Oe.length>0&&E(C):Ue("please click on a spirit guide to choose her/him")}})),o.a.createElement("div",{id:it[0],className:Ze,onClick:Ot,onMouseOver:Et,onMouseLeave:Nt},o.a.createElement("p",{className:"nameTag "+("on"===ut[1]?"":"invisible")},"Andre B")),o.a.createElement("div",{id:it[1],className:_e,onClick:Ot,onMouseOver:Et,onMouseLeave:Nt},o.a.createElement("p",{className:"nameTag "+("on"===ut[2]?"":"invisible")},"Rene")),o.a.createElement("div",{id:it[2],className:et,onClick:Ot,onMouseOver:Et,onMouseLeave:Nt},o.a.createElement("p",{className:"nameTag "+("on"===ut[3]?"":"invisible")},"Pablo")),o.a.createElement("div",{id:it[3],className:tt,onClick:Ot,onMouseOver:Et,onMouseLeave:Nt},o.a.createElement("p",{className:"nameTag "+("on"===ut[4]?"":"invisible")},"Benjamin")),o.a.createElement("div",{id:it[4],className:at,onClick:Ot,onMouseOver:Et,onMouseLeave:Nt},o.a.createElement("p",{className:"nameTag "+("on"===ut[5]?"":"invisible")},"Leonora")),o.a.createElement("div",{id:it[5],className:nt,onClick:Ot,onMouseOver:Et,onMouseLeave:Nt},o.a.createElement("p",{className:"nameTag "+("on"===ut[6]?"":"invisible")},"max")),o.a.createElement("div",{id:it[6],className:ot,onClick:Ot,onMouseOver:Et,onMouseLeave:Nt},o.a.createElement("p",{className:"nameTag "+("on"===ut[7]?"":"invisible")},"Andre M")),o.a.createElement("div",{id:it[7],className:lt,onClick:Ot,onMouseOver:Et,onMouseLeave:Nt},o.a.createElement("p",{className:"nameTag "+("on"===ut[8]?"":"invisible")},"Marcel")),o.a.createElement("div",{className:"exterior"},o.a.createElement("div",{className:"leftCurtain "+("on"===p?"leftcurtainOn":"")}),o.a.createElement("div",{className:"rightCurtain "+("on"===p?"rightCurtainOn":"")})),o.a.createElement("div",{className:"interior "},o.a.createElement("div",{className:"on"===p?ct:"invisible"}),o.a.createElement("div",{className:"title "+("on"===c?"titleAnimate":"invisible")},o.a.createElement("div",{className:"on"===c?"titleText":"invisible"},"welcome ",O),o.a.createElement("div",{className:"on"===c?"titleText":"invisible"},o.a.createElement("h1",null,"let's play Exquisite Corpse!")),o.a.createElement("div",{className:"on"===c?"titleText":"invisible"},"current player : ",Qe)),o.a.createElement("div",{className:"table "+("on"===c?"tableAnimate":"invisible")},o.a.createElement("div",{className:"on"===c?"titleText":"invisible"},o.a.createElement("div",{className:"display "},H),o.a.createElement("div",{className:"on"===S?"invisible":""},"please wait your turn"),o.a.createElement("input",{className:"sentenceInput "+("on"===S?"":"invisible"),onChange:function(e){e.preventDefault(),e.stopPropagation(),le(e.target.value)},type:"text",placeholder:"please proceed"}),o.a.createElement("button",{className:"submitbutton "+("on"===S?"":"invisible"),onClick:function(){Le("on");var t=Ve(oe);e.open(),console.log("tail=====  "),console.log(t),e.emit("segment",{segment:oe,tail:t,room:Oe}),console.log("emitted sentence to server"),console.log(oe),setTimeout((function(){Le("off")}),2e3)}},"broadcast Story Segment"),o.a.createElement("button",{className:"turnButtom gameButton",onClick:function(t){t.preventDefault(),t.stopPropagation(),e.open(),e.emit("nextPlayer",Oe)}},"next player"),o.a.createElement("button",{className:"gameButton"},o.a.createElement("a",{href:"data:text/plain;charset=utf-8, "+ee.join("\n"),download:"poem.txt"},"download story")),o.a.createElement("button",{className:"openRulesButton gameButton",onClick:function(){fe("on")}},"see Rules")))),o.a.createElement("div",{className:"sidenavchat "+("on"===c?"visible ":"invisible ")+("on"===pe?"largeChat":"")},o.a.createElement("div",{className:"chatWindow "+("on"===pe?"visible":"invisible")},$.length?o.a.createElement("div",{ref:t,className:"messageBox "+("on"===pe?"onChatbox":"")},$.map((function(e,t){var a=e.user,n=(e.date,e.text);return o.a.createElement("div",{key:t,className:a===O?"toLeft":"toRight"},a,": ",n," ")}))):o.a.createElement("h1",{className:"chat-title"},"Speak")),o.a.createElement("div",null,o.a.createElement("input",{className:"chatBox "+("on"===pe?"visible":"invisible"),type:"text",placeholder:"message",value:J,onChange:function(e){return G(e.currentTarget.value)}}),o.a.createElement("button",{className:"chatbtn "+("on"===pe?"":"invisible"),onClick:function(t){t.preventDefault(),t.stopPropagation();var a={message:J,username:O,room:Oe};e.open(),e.emit("send",a),G("")}},"speak"),o.a.createElement("button",{className:"chatbtn "+("on"===pe?"":"invisible"),onClick:function(t){t.preventDefault(),t.stopPropagation(),qe("on"),e.open(),setTimeout((function(){qe("off")}),1e3);var a={message:J,username:O,room:Oe};e.emit("sendToGhost",a),G("")}},"speak with ghost"),o.a.createElement("button",{className:"chatbtn "+("on"===pe?"":"invisible"),onClick:function(){ge("off")}},"close chat"),o.a.createElement("button",{className:"chatbtn "+("on"===pe?"invisible":""),onClick:function(){ge("on")}},"open chat"),o.a.createElement("div",{className:"roster "},o.a.createElement("h3",null,"players in the room"),o.a.createElement("ul",{id:"users"},F.map((function(e){var t=e.name,a=e.id;return o.a.createElement("li",{key:a,className:"on"===pe?"centeredLi":""},t)})))))))};a(77);var p=function(){return o.a.createElement(v,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(p,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[36,1,2]]]);
//# sourceMappingURL=main.17a7908f.chunk.js.map